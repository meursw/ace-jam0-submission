[gd_scene load_steps=13 format=3 uid="uid://bygmy5onrshhm"]

[ext_resource type="Shader" path="res://Shaders/ps1_postprocess.gdshader" id="1_pdsh8"]
[ext_resource type="Script" path="res://Levels/intro.gd" id="1_ueny6"]
[ext_resource type="Resource" uid="uid://dpwmarhby8oe5" path="res://Resources/DialogueResources/intro_dialogue.tres" id="2_4e6kp"]
[ext_resource type="PackedScene" uid="uid://cs7m78tstb6od" path="res://Scenes/UI/ui.tscn" id="2_w40xm"]
[ext_resource type="Texture2D" uid="uid://b066wyvxxa0ik" path="res://addons/kenney_prototype_textures/dark/texture_08.png" id="3_vyhuo"]
[ext_resource type="PackedScene" uid="uid://cttqgfopdwiv" path="res://Scenes/player.tscn" id="4_iwg5y"]
[ext_resource type="PackedScene" uid="uid://g68g2tibnr6x" path="res://Scenes/teleport_component.tscn" id="7_yhs2i"]
[ext_resource type="Script" path="res://Scripts/teleport_component.gd" id="8_44eje"]
[ext_resource type="PackedScene" uid="uid://g1bel2e1xtp2" path="res://Levels/level_1_forest.tscn" id="9_mvx17"]

[sub_resource type="Environment" id="Environment_xi85p"]
tonemap_mode = 3
sdfgi_enabled = true
sdfgi_read_sky_light = false
glow_normalized = true
glow_blend_mode = 0
volumetric_fog_enabled = true
volumetric_fog_density = 0.0101
volumetric_fog_detail_spread = 1.84672
volumetric_fog_sky_affect = 0.679

[sub_resource type="ShaderMaterial" id="ShaderMaterial_j5p78"]
shader = ExtResource("1_pdsh8")
shader_parameter/change_color_depth = true
shader_parameter/target_color_depth = 3
shader_parameter/dithering = true
shader_parameter/scale_resolution = true
shader_parameter/target_resolution_scale = 2
shader_parameter/enable_recolor = false

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_ansvr"]
albedo_texture = ExtResource("3_vyhuo")
uv1_triplanar = true

[node name="Intro" type="Node3D"]
script = ExtResource("1_ueny6")
dialogue = ExtResource("2_4e6kp")

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_xi85p")

[node name="UI-HUD" type="Node" parent="."]

[node name="ColorRect" type="ColorRect" parent="UI-HUD"]
top_level = true
light_mask = 0
material = SubResource("ShaderMaterial_j5p78")
offset_right = 800.0
offset_bottom = 603.0

[node name="UI" parent="UI-HUD" instance=ExtResource("2_w40xm")]

[node name="DialogueUI" parent="UI-HUD/UI" index="0"]
offset_left = 171.0
offset_top = -437.0
offset_right = 171.0
offset_bottom = -437.0

[node name="Label" parent="UI-HUD/UI/DialogueUI/DialogueBG" index="0"]
offset_left = -43.0
offset_top = 412.0
offset_right = 85.0
offset_bottom = 412.0

[node name="InventoryUI" parent="UI-HUD/UI" index="1"]
offset_left = 564.0
offset_top = 524.0
offset_right = 156.0
offset_bottom = -76.0
scale = Vector2(0.6, 0.6)

[node name="Enviroment" type="Node3D" parent="."]

[node name="CSGBox3D" type="CSGBox3D" parent="Enviroment"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 5, 5)
material_override = SubResource("StandardMaterial3D_ansvr")
use_collision = true
flip_faces = true
size = Vector3(6, 10, 20)

[node name="CSGCylinder3D" type="CSGCylinder3D" parent="Enviroment/CSGBox3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -9.48642, -7.41573)
flip_faces = true
radius = 1.34417
height = 13.0034

[node name="SpotLight3D" type="SpotLight3D" parent="Enviroment/CSGBox3D/CSGCylinder3D"]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, 1, 0, -1, -4.37114e-08, 0, 13.8268, 0.0492866)
light_color = Color(0.968627, 0.262745, 0.156863, 1)
light_energy = 70.0
spot_range = 26.39
spot_attenuation = 0.87055
spot_angle = 12.22
spot_angle_attenuation = 1.23114

[node name="OmniLight3D" type="OmniLight3D" parent="Enviroment/CSGBox3D/CSGCylinder3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -5.39557, 0)
light_energy = 45.1
light_negative = true
omni_range = 5.195

[node name="OmniLight3D" type="OmniLight3D" parent="Enviroment"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 5.12344, 0.0120945)
light_color = Color(0.396078, 0.447059, 0.878431, 1)
light_energy = 4.2
shadow_enabled = true
omni_range = 1076.44
omni_attenuation = 0.615572
omni_shadow_mode = 0

[node name="Player" parent="." instance=ExtResource("4_iwg5y")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 13.7)

[node name="TeleportComponent" parent="." instance=ExtResource("7_yhs2i")]
script = ExtResource("8_44eje")
next_level = ExtResource("9_mvx17")

[connection signal="body_entered" from="TeleportComponent" to="TeleportComponent" method="_on_body_entered"]

[editable path="UI-HUD/UI"]
